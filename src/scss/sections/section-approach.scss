@use '../core/variables' as *;
@use '../core/mixins' as *;

// --- Переменные ---
$color-bg-page: #f5f5f7;
$color-bg-card: #fff;
$color-text: #111;
$color-text-gray: #666;
$color-accent: #ff5a5f; // Красный акцент
$color-accent-light: rgb(255 90 95 / 10%); // Светло-красный фон для иконок
$radius: 24px;
$gap: 20px;

.section-approach {
  padding: 80px 0;
  font-family: $font-main;
  background-color: $color-bg-page;

  &__head {
    margin-bottom: 50px;
    text-align: center;
  }

  &__title {
    margin-bottom: 12px;
    font-size: 36px;
    font-weight: 800;
  }

  &__subtitle {
    font-size: 16px;
    color: $color-text-gray;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); // 3 колонки
    gap: $gap;

    @media (width <= 992px) {
      grid-template-columns: 1fr; // 1 колонка на мобильном
      max-width: 500px;
      margin: 0 auto;
    }
  }
}

// --- Карточка преимущества ---
.approach-item {
  padding: 40px 30px;
  border: 1px solid transparent;
  border-radius: $radius;

  background-color: $color-bg-card;

  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;

  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgb(0 0 0 / 5%);

    // При наведении красим иконку в акцент
    .approach-item__icon-wrapper {
      color: #fff;
      background-color: $color-accent;
    }

    // Меняем цвет псевдоэлементов внутри иконки на белый
    .approach-icon::before,
    .approach-icon::after,
    .approach-icon span {
      border-color: #fff;
      background-color: #fff;
    }
  }

  &__icon-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;

    width: 70px;
    height: 70px;
    margin-bottom: 24px;
    border-radius: 20px;

    color: $color-accent;

    background-color: $color-accent-light; // Светлая подложка

    transition: all 0.3s ease;
  }

  &__title {
    margin-bottom: 12px;
    font-size: 20px;
    font-weight: 700;
    line-height: 1.3;
  }

  &__text {
    font-size: 15px;
    line-height: 1.6;
    color: $color-text-gray;
  }
}

// --- CSS-Иконки (Рисуем кодом) ---
.approach-icon {
  position: relative;
  display: block;
  width: 30px;
  height: 30px;

  &::before,
  &::after {
    transition:
      background-color 0.3s,
      border-color 0.3s;
  }
}

// 1. Иконка "Современность" (Ромб/Звезда)
.icon-modern {
  &::before {
    content: '';

    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(45deg);

    width: 20px;
    height: 20px;
    border: 2px solid currentcolor; // Берет цвет текста родителя
  }
  &::after {
    content: '';

    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    width: 4px;
    height: 4px;
    border-radius: 50%;

    background-color: currentcolor;
  }
}

// 2. Иконка "Юмор" (Баббл диалога)
.icon-humor {
  &::before {
    content: '';

    position: absolute;
    top: 2px;
    left: 0;

    width: 26px;
    height: 20px;
    border: 2px solid currentcolor;
    border-radius: 6px;
  }
  &::after {
    // Хвостик баббла
    content: '';

    position: absolute;
    bottom: 4px;
    left: 6px;

    width: 0;
    height: 0;
    border-color: currentcolor transparent transparent;
    border-style: solid;
    border-width: 6px 4px 0;
  }
}

// 3. Иконка "Техника" (Эквалайзер)
.icon-tech {
  display: flex;
  align-items: center;
  justify-content: space-between;

  padding: 5px 2px; // Отступы

  // Используем градиенты для рисования палочек
  background-image:
    linear-gradient(currentcolor, currentcolor),
    linear-gradient(currentcolor, currentcolor),
    linear-gradient(currentcolor, currentcolor);
  background-repeat: no-repeat;
  background-position:
    0 center,
    50% center,
    100% center;
  background-size:
    4px 12px,
    4px 20px,
    4px 15px; // Ширина/высота палочек
}

@use '../core/variables' as *;
@use '../core/mixins' as *;

// --- Переменные ---
$color-bg-page: #f5f5f7;
$color-bg-card: #fff;
$color-text: #111;
$color-text-gray: #666;
$color-accent: #ff5a5f;
$radius: 24px;
$gap: 20px;

.section-price {
  background-color: $color-bg-page;

  // .section-partners__body
  &__body {
    padding-block: 8rem !important;

    @include screen-490 {
      padding-block: 4rem !important;
    }
  }

  &__head {
    margin-bottom: 50px;
    text-align: center;
  }

  &__title {
    margin-bottom: 12px;
    font-size: 36px;
    font-weight: 800;
  }

  &__subtitle {
    font-size: 16px;
    color: $color-text-gray;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); // 3 равные колонки
    gap: $gap;
    align-items: start; // Чтобы карточки не растягивались по высоте самой большой

    @media (width <= 992px) {
      grid-template-columns: 1fr; // 1 колонка на мобильном
      max-width: 500px;
      margin: 0 auto;
    }
  }
}

// --- Карточка тарифа ---
.price-card {
  position: relative;

  padding: 40px 30px;
  border: 1px solid transparent; // Резерв под границу
  border-radius: $radius;

  background-color: $color-bg-card;

  transition:
    transform 0.3s ease,
    box-shadow 0.3s ease;

  // Ховер для боковых карточек
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgb(0 0 0 / 5%);
  }

  // --- МОДИФИКАТОР: Популярный тариф ---
  &--popular {
    z-index: 2; // Поверх остальных
    transform: scale(1.05); // Чуть больше остальных
    border: 2px solid $color-accent; // Красная рамка
    box-shadow: 0 10px 40px rgb(0 0 0 / 8%);

    @media (width <= 992px) {
      transform: scale(1); // На мобильном убираем увеличение
      order: -1; // Ставим популярный тариф первым в списке на телефоне!
    }
  }

  // Бейдж "Выбор невест"
  &__badge {
    position: absolute;
    top: -15px;
    left: 50%;
    transform: translateX(-50%);

    padding: 8px 16px;
    border-radius: 20px;

    font-size: 12px;
    font-weight: 700;
    color: #fff;
    text-transform: uppercase;
    letter-spacing: 0.05em;

    background-color: $color-accent;
  }

  // Шапка карточки
  &__header {
    margin-bottom: 30px;
    padding-bottom: 30px;
    border-bottom: 1px solid #eee;
    text-align: center;
  }

  &__title {
    margin-bottom: 16px;
    font-size: 20px;
    font-weight: 700;
  }

  &__price {
    margin-bottom: 10px;
    font-size: 32px;
    font-weight: 800;
    color: $color-text;

    // Старая цена (зачеркнутая)
    .old-price {
      display: block;

      margin-bottom: 4px;

      font-size: 16px;
      font-weight: 500;
      color: #999;
      text-decoration: line-through;
    }
  }

  &__desc {
    font-size: 14px;
    line-height: 1.4;
    color: $color-text-gray;
  }

  // Список услуг
  &__list {
    margin-bottom: 40px;
    list-style: none;
  }

  &__item {
    display: flex;
    align-items: flex-start; // Выравнивание по верху, если текст длинный

    margin-bottom: 16px;

    font-size: 15px;
    line-height: 1.5;
    color: $color-text;

    // Иконка галочки (делаем через CSS, чтобы не грузить картинку)
    .icon-check {
      position: relative;

      flex-shrink: 0;

      width: 20px;
      height: 20px;
      margin-right: 12px;
      border-radius: 50%;

      background-color: #e6f7ed; // Светло-зеленый круг

      &::after {
        content: '';

        position: absolute;
        top: 4px;
        left: 7px;
        transform: rotate(45deg);

        width: 4px;
        height: 8px;
        border: solid #00c853; // Зеленая галочка
        border-width: 0 2px 2px 0;
      }
    }

    // Неактивный пункт (крестик)
    &._disable {
      color: #bbb;

      .icon-cross {
        position: relative;

        flex-shrink: 0;

        width: 20px;
        height: 20px;
        margin-right: 12px;

        opacity: 0.3;

        &::before,
        &::after {
          content: '';

          position: absolute;
          top: 9px;
          left: 5px;

          width: 10px;
          height: 2px;

          background-color: #000;
        }
        &::before {
          transform: rotate(45deg);
        }
        &::after {
          transform: rotate(-45deg);
        }
      }
    }
  }

  // Футер с кнопкой
  &__footer {
    text-align: center;
  }

  // Кнопки
  &__btn {
    cursor: pointer;

    width: 100%;
    padding: 16px;
    border-radius: 50px;

    font-size: 16px;
    font-weight: 700;

    transition: 0.3s;
  }

  // Прозрачная кнопка (для обычных тарифов)
  .btn-outline {
    border: 1px solid #ddd;
    color: $color-text;
    background: transparent;

    &:hover {
      border-color: $color-text;
      color: #fff;
      background: $color-text;
    }
  }

  // Акцентная кнопка (для популярного)
  .btn-main {
    border: none;
    color: #fff;
    background: $color-accent;
    box-shadow: 0 4px 15px rgba($color-accent, 0.4);

    &:hover {
      transform: scale(1.02);
      background: darken($color-accent, 5%);
    }
  }
}
